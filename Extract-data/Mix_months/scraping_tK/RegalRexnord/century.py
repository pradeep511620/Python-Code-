import requests
from bs4 import BeautifulSoup
from selenium import webdriver
from selenium.webdriver.common.by import By
import time
from typing import TextIO
from selenium.webdriver.chrome.options import Options


opts = Options()
opts.headless = False
opts.add_argument(
    "--user-agent=" + "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.8) Gecko/20100722 Firefox/3.6.8 GTB7.1 (.NET CLR 3.5.30729)")
browser = webdriver.Chrome(r"/home/tajender/Downloads/chromedriver",options=opts)

li=[
# 'rp_400780',
# 'rp_400800',
# 'rp_400820',
# 'rp_400840',
# 'rp_400860',
# 'rp_400880',
# # 'rp_400900',
# # 'rp_400920',
# # 'rp_400940',
# # 'rp_400960',
# # 'rp_400980',
# # 'rp_401000',
# # 'rp_401020',
# # 'rp_401040',
# # 'rp_401060',
# # 'rp_401080',
# # 'rp_401100',
# # 'rp_401120',
# # 'rp_401140',
# # 'rp_401160',
# # 'rp_401180',
# # 'rp_401200',
# # 'rp_401220',
# # 'rp_401240',
# # 'rp_401260',
# # 'rp_401300',
# # 'rp_401320',
# # 'rp_401360',
# # 'rp_401380',
# # 'rp_121380',
# # 'rp_121390',
# # 'rp_121400',
# # 'rp_121410',
# # 'rp_121430',
# # 'rp_121450',
# # 'rp_121460',
# # 'rp_121470',
# # 'rp_121480',
# # 'rp_121490',
# # 'rp_121510',
# # 'rp_121520',
# # 'rp_121540',
# # 'rp_121550',
# # 'rp_121560',
# # 'rp_121570',
# # 'rp_121580',
# # 'rp_121590',
# # 'rp_121600',
# # 'rp_121607',
# # 'rp_121611',
# # 'rp_121614',
# # 'rp_121640',
# # 'rp_121650',
# # 'rp_121680',
# # 'rp_151290',
# # 'rp_151300',
# # 'rp_151310',
# # 'rp_151315',
# # 'rp_151320',
# # 'rp_151330',
# # 'rp_151340',
# # 'rp_151345',
# # 'rp_151350',
# # 'rp_151360',
# # 'rp_151370',
# # 'rp_151380',
# # 'rp_151390',
# # 'rp_151391',
# # 'rp_151393',
# # 'rp_151394',
# # 'rp_151395',
# # 'rp_151396',
# # 'rp_151397',
# # 'rp_151398',
# # 'rp_151400',
# # 'rp_151410',
# # 'rp_151420',
# # 'rp_151425',
# # 'rp_151430',
# # 'rp_151432',
# # 'rp_151438',
# # 'rp_150190',
# # 'rp_151000',
# # 'rp_151010',
# # 'rp_151020',
# # 'rp_151035',
# # 'rp_151040',
# # 'rp_151060',
# # 'rp_151070',
# # 'rp_151090',
# # 'rp_151110',
# # 'rp_151120',
# # 'rp_151130',
# # 'rp_151150',
# # 'rp_151220',
# # 'rp_151230',
# # 'rp_151240',
# # 'rp_151250',
# # 'rp_151260',
# # 'rp_480000',
# # 'rp_480030',
# # 'rp_480040',
# # 'rp_480050',
# # 'rp_480100',
# # 'rp_480120',
# # 'rp_480140',
# # 'rp_480160',
# # 'rp_480300',
# # 'rp_480320',
# # 'rp_480340',
# # 'rp_480360',
# # 'rp_480460',
# # 'rp_480480',
# # 'rp_480510',
# # 'rp_480530',
# # 'rp_480700',
# # 'rp_480720',
# # 'rp_480740',
# # 'rp_480760',
# # 'rp_480900',
# # 'rp_480920',
# # 'rp_480940',
# # 'rp_480960',
# # 'rp_400000',
# # 'rp_400020',
# # 'rp_400040',
# # 'rp_400060',
# # 'rp_400080',
# # 'rp_400100',
# # 'rp_400120',
# # 'rp_400140',
# # 'rp_400160',
# # 'rp_400180',
# # 'rp_400200',
# # 'rp_400220',
# # 'rp_400240',
# # 'rp_400260',
# # 'rp_400280',
# # 'rp_400300',
# # 'rp_400320',
# # 'rp_400340',
# # 'rp_400360',
# # 'rp_400380',
# # 'rp_400400',
# # 'rp_400420',
# # 'rp_400440',
# # 'rp_400460',
# # 'rp_120910',
# # 'rp_120920',
# # 'rp_121000',
# # 'rp_121010',
# # 'rp_121020',
# # 'rp_121040',
# # 'rp_450000',
# # 'rp_91500',
# # 'rp_91510',
# # 'rp_91520',
# # 'rp_91490',
# # 'rp_91540',
# # 'rp_91550',
# # 'rp_91560',
# # 'rp_91570',
# # 'rp_91580',
# # 'rp_91590',
# # 'rp_91600',
# # 'rp_91605',
# # 'rp_91608',
# # 'rp_91610',
# # 'rp_91615',
# # 'rp_91620',
# # 'rp_91625',
# # 'rp_91630',
# # 'rp_91635',
# # 'rp_91640',
# # 'rp_91645',
# # 'rp_91650',
# # 'rp_91655',
# # 'rp_91720',
# # 'rp_91730',
# # 'rp_91740',
# # 'rp_91742',
# # 'rp_91745',
# # 'rp_91110',
# # 'rp_91120',
# # 'rp_91125',
# # 'rp_91130',
# 'rp_91140',
# 'rp_91150',
# 'rp_91160',
# 'rp_91240',
# 'rp_91260',
# 'rp_91270',
# 'rp_91273',
# 'rp_91275',
# 'rp_91278',
# 'rp_450050',
# 'rp_450300',
# 'rp_450350',
# 'rp_450400',
# 'rp_450450',
# 'rp_450600',
# 'rp_450650',
# 'rp_450700',
# 'rp_450750',
# 'rp_451000',
# 'rp_451150',
# 'rp_451200',
# 'rp_451250',
# 'rp_451400',
# 'rp_451450',
# 'rp_460000',
# 'rp_460050',
# 'rp_460100',
# 'rp_460300',
# 'rp_460350',
# 'rp_460400',
# 'rp_460600',
# 'rp_460650',
# 'rp_460700',
# 'rp_460750',
# 'rp_460900',
# 'rp_460950',
# 'rp_461050',
# 'rp_461300',
# 'rp_461400',
# 'rp_461500',
# 'rp_461550',
# 'rp_461700',
# 'rp_461800',
# 'rp_461850',
# 'rp_461900',
# 'rp_461950',
# 'rp_462200',
# 'rp_462300',
# 'rp_462350',
# 'rp_462400',
# 'rp_462450',
# 'rp_440000',
# 'rp_440050',
# 'rp_440100',
# 'rp_440300',
# 'rp_440350',
# 'rp_440500',
# 'rp_440550',
# 'rp_440600',
# 'rp_440800',
# 'rp_440900',
# 'rp_440950',
# 'rp_441300',
# 'rp_441350',
# 'rp_441400',
# 'rp_441600',
# 'rp_441650',
# 'rp_441750',
# 'rp_441800',
# 'rp_490000',
# 'rp_490030',
# 'rp_490040',
# 'rp_490050',
# 'rp_490300',
# 'rp_490320',
# 'rp_490340',
# 'rp_490250',
# 'rp_490360',
# 'rp_490530',
# 'rp_450200',
# 'rp_450310',
# 'rp_450320',
# 'rp_121050',
# 'rp_121100',
# 'rp_121110',
# 'rp_121130',
# 'rp_121140',
# 'rp_121150',
# 'rp_121160',
# 'rp_121185',
# 'rp_121190',
# 'rp_121200',
# 'rp_121205',
# 'rp_121215',
# 'rp_121220',
# 'rp_121227',
# 'rp_121235',
# 'rp_121240',
# 'rp_121250',
# 'rp_121255',
# 'rp_121265',
# 'rp_121270',
# 'rp_121275',
# 'rp_121275',
# 'rp_121280',
# 'rp_121290',
# 'rp_121310',
# 'rp_121320',
# 'rp_121340',
# 'rp_121350',
# 'rp_121362',
# 'rp_121362',
# 'rp_400480',
# 'rp_400490',
# 'rp_400500',
# 'rp_400520',
# 'rp_400530',
# 'rp_400540',
# 'rp_400560',
# 'rp_400580',
# 'rp_400585',
# 'rp_400590',
# 'rp_400595',
# 'rp_400600',
# 'rp_400620',
# 'rp_400640',
# 'rp_400645',
# 'rp_400650',
# 'rp_400660',
# 'rp_400680',
# 'rp_400700',
# 'rp_400705',
# 'rp_400710',
# 'rp_400715',
# 'rp_400718',
# 'rp_400720',
# 'rp_400740',
# 'rp_400760',
# 'rp_400770',
# 'rp_400772',
# 'rp_400775',
# 'rp_400776',
# 'rp_121682',
# 'rp_121683',
# 'rp_121684',
# 'rp_121700',
# 'rp_121710',
# 'rp_121730',
# 'rp_121740',
# 'rp_121760',
# 'rp_121770',
# 'rp_121790',
# 'rp_121800',
# 'rp_121820',
# 'rp_121830',
# 'rp_121840',
# 'rp_121850',
# 'rp_121860',
# 'rp_121880',
# 'rp_121890',
# 'rp_121895',
# 'rp_121900',
# 'rp_121905',
# 'rp_121910',
# 'rp_121930',
# 'rp_121940',
# 'rp_121945',
# 'rp_121950',
# 'rp_121955',
# 'rp_121960',
# 'rp_121965',
# 'rp_121965',
# 'rp_121968',
# 'rp_121980',
# 'rp_122000',
# 'rp_122010',
# 'rp_122020',
# 'rp_122030',
# 'rp_122040',
# 'rp_122050',
# 'rp_141403',
# 'rp_141404',
# 'rp_141407',
# 'rp_141408',
# 'rp_141409',
# 'rp_141410',
# 'rp_141420',
# 'rp_141430',
# 'rp_141432',
# 'rp_141433',
# 'rp_141435',
# 'rp_141440',
# 'rp_141450',
# 'rp_141460',
# 'rp_141470',
# 'rp_141480',
# 'rp_141490',
# 'rp_141500',
# 'rp_141501',
# 'rp_141503',
# 'rp_141512',
# 'rp_141513',
# 'rp_141514',
# 'rp_141515',
# 'rp_141516',
# 'rp_141517',
# 'rp_141520',
# 'rp_141530',
# 'rp_141540',
# 'rp_141550',
# 'rp_141560',
# 'rp_141030',
# 'rp_141040',
# 'rp_141050',
# 'rp_141060',
# 'rp_141090',
# 'rp_141100',
# 'rp_141110',
# 'rp_141120',
# 'rp_141140',
# 'rp_141150',
# 'rp_141160',
# 'rp_141170',
# 'rp_141190',
# 'rp_141200',
# 'rp_141210',
# 'rp_141220',
# 'rp_141280',
# 'rp_141290',
# 'rp_141300',
# 'rp_141310',
# 'rp_6000800',
# 'rp_6000820',
# 'rp_6000840',
# 'rp_6000860',
# 'rp_6000900',
# 'rp_6001000',
# 'rp_6001040',
# 'rp_6001060',
# 'rp_6001500',
# 'rp_6001640',
# 'rp_6001800',
# 'rp_6002040',
# 'rp_6002060',
# 'rp_6002080',
# 'rp_6002100',
# 'rp_6002120',
# 'rp_6002160',
# 'rp_6002560',
# 'rp_6002580',
# 'rp_6002600',
# 'rp_6002620',
# 'rp_6002640',
# 'rp_6002700',
# 'rp_6002740',
# 'rp_#0125',
# 'rp_#0130',
# 'rp_#0135',
# 'rp_#0140',
# 'rp_#0145',
# 'rp_#0148',
# 'rp_#0172',
# 'rp_#0180',
# 'rp_#0185',
# 'rp_#0189',
# 'rp_#0155',
# 'rp_#0160',
# 'rp_#0165',
# 'rp_#0169',
# 'rp_#0192',
# 'rp_#0195',
# 'rp_#0197',
# 'rp_#0207',
# 'rp_#0210',
# 'rp_#0220',
# 'rp_#0223',
# 'rp_#0225',
# 'rp_#0230',
# 'rp_31320',
# 'rp_31340',
# 'rp_31350',
# 'rp_31380',
# 'rp_31390',
# 'rp_31400',
# 'rp_31410',
# 'rp_31420',
# 'rp_31430',
# 'rp_31450',
# 'rp_31470',
# 'rp_31480',
# 'rp_31490',
# 'rp_31500',
# 'rp_31510',
# 'rp_31540',
# 'rp_31550',
# 'rp_31560',
# 'rp_31570',
# 'rp_31010',
# 'rp_31030',
# 'rp_31040',
# 'rp_31070',
# 'rp_31080',
# 'rp_31090',
# 'rp_31100',
# 'rp_31110',
# 'rp_31120',
# 'rp_31140',
# 'rp_31160',
# 'rp_31170',
# 'rp_31180',
# 'rp_31190',
# 'rp_31200',
# 'rp_31260',
# 'rp_31270',
# 'rp_31280',
# 'rp_31290',
# 'rp_91300',
# 'rp_91310',
# 'rp_91320',
# 'rp_91330',
# 'rp_91340',
# 'rp_91350',
# 'rp_91360',
# 'rp_91370',
# 'rp_91380',
# 'rp_91390',
# 'rp_91400',
# 'rp_91410',
# 'rp_91420',
# 'rp_91430',
# 'rp_91440',
# 'rp_91450',
# 'rp_91460',
# 'rp_91470',
# 'rp_91480',
# 'rp_81302',
# 'rp_81310',
# 'rp_81320',
# 'rp_81340',
# 'rp_81350',
# 'rp_81360',
# 'rp_81390',
# 'rp_81400',
# 'rp_81410',
# 'rp_81420',
# 'rp_81430',
# 'rp_81440',
# 'rp_81450',
# 'rp_81460',
# 'rp_122070',
# 'rp_122090',
# 'rp_122100',
# 'rp_122150',
# 'rp_122170',
# 'rp_122180',
# 'rp_122190',
# 'rp_122200',
# 'rp_122230',
# 'rp_122250',
# 'rp_122260',
# 'rp_122280',
# 'rp_122290',
# 'rp_122299',
# 'rp_122301',
# 'rp_122302',
# 'rp_122304',
# 'rp_51320',
# 'rp_51340',
# 'rp_51350',
# 'rp_51370',
# 'rp_51390',
'rp_51400',
'rp_51440',
'rp_51460',
'rp_51470',
'rp_51480',
'rp_51490',
'rp_51570',
'rp_51580',
'rp_51590',
'rp_51600',
'rp_91773',
'rp_91776',
'rp_91780',
'rp_91800',
'rp_91810',
'rp_91820',
'rp_91830',
'rp_91850',
'rp_91860',
'rp_91870',
'rp_91890',
'rp_91910',
'rp_91920',
'rp_91930',
'rp_91000',
'rp_91010',
'rp_91020',
'rp_91030',
'rp_91050',
'rp_91060',
'rp_91070',
'rp_91080',
'rp_91120',
'rp_91130',
'rp_91140',
'rp_91150',
'rp_91170',
'rp_91180',
'rp_91190',
'rp_91200',
'rp_91240',
'rp_91260',
'rp_91270',
'rp_91273',
'rp_91275',
'rp_91278',
'rp_81000',
'rp_81010',
'rp_81020',
'rp_81030',
'rp_81050',
'rp_81060',
'rp_81070',
'rp_81080',
'rp_81100',
'rp_81120',
'rp_81130',
'rp_81140',
'rp_81160',
'rp_81170',
'rp_81180',
'rp_81190',
'rp_81200',
'rp_81220',
'rp_81230',
'rp_81240',
'rp_81260',
'rp_81270',
'rp_81282',
'rp_21820',
'rp_21840',
'rp_21850',
'rp_21900',
'rp_21920',
'rp_21930',
'rp_21950',
'rp_22060',
'rp_22070',
'rp_22080',
'rp_22100',
'rp_22110',
'rp_22140',
'rp_22150',
'rp_22160',
'rp_22180',
'rp_22190',
'rp_22240',
'rp_22250',
'rp_22260',
'rp_22270',
'rp_22280',
'rp_22290',
'rp_22300',
'rp_22330',
'rp_22340',
'rp_22350',
'rp_22360',
'rp_22370',
'rp_22400',
'rp_22410',
'rp_22420',
'rp_22430',
'rp_21060',
'rp_21070',
'rp_21140',
'rp_21150',
'rp_21170',
'rp_21180',
'rp_21320',
'rp_21330',
'rp_21340',
'rp_21350',
'rp_21360',
'rp_21410',
'rp_21430',
'rp_21440',
'rp_21470',
'rp_21510',
'rp_21520',
'rp_21530',
'rp_21540',
'rp_21550',
'rp_21570',
'rp_21620',
'rp_21630',
'rp_21690',
'rp_21700',

]
c=0
for l in li:

    browser.get('https://www.shamrocksupply.com/searchPage.action?keyWord='+l.replace('rp_',''))
    s=browser.page_source
    soup=BeautifulSoup(s,'html.parser')
    # print(soup)
    d=soup.find_all('ul','gridFixHeight clearAfter')
    for di in d:
        if l.replace('rp_','') in di.find('li',itemprop='mpn').text:
            browser.find_element(By.CLASS_NAME,'prodImage').click()

            time.sleep(4)
            s = browser.page_source
            soup = BeautifulSoup(s, 'html.parser')
            title=soup.find('h2',class_='cimm_prodDetailTitle').text
            print(title)
            url=browser.current_url
            print(url)
            d=soup.find('ul',id='productDetailList').find_all('li')
            SPN = ''
            MPN = ''
            UPC = ''
            for g in d:

                if 'SPN' in g.text:

                    SPN=g.text.split(': ')[1]
                if 'MPN' in g.text:
                    MPN=g.text.split(': ')[1]
                if 'UPC' in g.text:
                    UPC=g.text.split(': ')[1]
            print(SPN)
            print(MPN)
            save_details: TextIO = open("century.txt", "a+", encoding="utf-8")
            save_details.write(
                "\n" + url + "\t" +title.replace('\n','') +"\t"+"rp_" + SPN.replace('\n','') + "\t" + "rp_" + MPN.replace('\n','')+"\t"+ "rp_"+UPC.replace('\n',''))
            print("End")

            save_details.close()

            time.sleep(2)
            break

    # all=soup.find('div',class_='product-categories collection collection-underline').find_all('a')








